<!DOCTYPE html>
<html lang="en" data-theme="obsidian">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - 7D2D Ecosystem</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
<nav class="site-nav">
  <div class="nav-brand">7D2D Ecosystem</div>
  <a href="index.html" class="nav-item active">Dashboard</a>
  <a href="entities.html" class="nav-item">Entities</a>
  <a href="mods.html" class="nav-item">Mods</a>
  <a href="conflicts.html" class="nav-item">Conflicts</a>
  <a href="dependencies.html" class="nav-item">Dependencies</a>
  <a href="csharp.html" class="nav-item">C# Analysis</a>
  <a href="glossary.html" class="nav-item">Glossary</a>
  <select class="theme-select" onchange="setTheme(this.value)">
    <option value="obsidian">Obsidian</option>
    <option value="graphite">Graphite</option>
  </select>
</nav>

<div class="page-container">
<div class="page-header">
  <h1>Mod Ecosystem Dashboard</h1>
  <p>Generated 2026-01-04 13:44 ‚Ä¢ 38 mods analyzed ‚Ä¢ Built in 6.2s</p>
</div>
<div class="stats-bar">
<div class="stat"><span class="stat-value">15,534</span><span class="stat-label">Game Entities</span></div>
<div class="stat"><span class="stat-value">65,267</span><span class="stat-label">Properties</span></div>
<div class="stat"><span class="stat-value">47,332</span><span class="stat-label">Cross-References</span></div>
<div class="stat"><span class="stat-value">117,434</span><span class="stat-label">Dependency Chains</span></div>
<div class="stat"><span class="stat-value">38</span><span class="stat-label">Mods Installed</span></div>
<div class="stat"><span class="stat-value">6.2s</span><span class="stat-label">Total Time</span></div>
</div>
<div class="card-grid">
<a href="entities.html" class="card card-clickable feature-card">
  <span class="icon">üì¶</span>
  <h3>Entities</h3>
  <p>Browse all game definitions: items, blocks, buffs, recipes, and more. Search by name or filter by type.</p>
  <p class="text-dim" style="font-size: 12px;">Why useful: Quickly find any entity and see what references it.</p>
  <div class="stats">
    <span class="stat"><b>15,534</b> entities indexed</span>
    <span class="stat"><b>13</b> entity types</span>
    <span class="stat">6,289 blocks</span>
    <span class="stat">2,453 sounds</span>
  </div>
</a>

<a href="mods.html" class="card card-clickable feature-card">
  <span class="icon">üîß</span>
  <h3>Mods</h3>
  <p>Detailed view of each installed mod: XML operations, Harmony patches, and health status.</p>
  <p class="text-dim" style="font-size: 12px;">Why useful: Understand exactly what each mod changes in the game.</p>
  <div class="stats">
    <span class="stat"><b>38</b> mods installed</span>
    <span class="stat"><b>37</b> healthy</span>
    <span class="stat"><b>0</b> need review</span>
    <span class="stat"><b>1</b> broken</span>
  </div>
</a>

<a href="conflicts.html" class="card card-clickable feature-card">
  <span class="icon">‚ö†Ô∏è</span>
  <h3>Conflicts</h3>
  <p>Identify entities modified by multiple mods. Filter by severity to focus on critical issues first.</p>
  <p class="text-dim" style="font-size: 12px;">Why useful: Resolve mod conflicts before they cause game problems.</p>
  <div class="stats">
    <span class="stat"><b>0</b> HIGH risk</span>
    <span class="stat"><b>2</b> MEDIUM risk</span>
    <span class="stat"><b>0</b> LOW risk</span>
    <span class="stat"><b>2</b> total contested</span>
  </div>
</a>

<a href="dependencies.html" class="card card-clickable feature-card">
  <span class="icon">üîó</span>
  <h3>Dependencies</h3>
  <p>Explore inheritance chains and impact analysis. See which entities are most dangerous to modify.</p>
  <p class="text-dim" style="font-size: 12px;">Why useful: Understand ripple effects before modifying shared entities.</p>
  <div class="stats">
    <span class="stat"><b>25</b> inheritance hotspots</span>
    <span class="stat"><b>117,434</b> dependency chains</span>
    <span class="stat">Top: meleeHandMaster (2101 deps)</span>
  </div>
</a>

<a href="csharp.html" class="card card-clickable feature-card">
  <span class="icon">üíª</span>
  <h3>C# Analysis</h3>
  <p>View Harmony patches, class extensions, and C# dependencies. Understand how mods hook into game code.</p>
  <p class="text-dim" style="font-size: 12px;">Why useful: Debug code conflicts and understand mod compatibility.</p>
  <div class="stats">
    <span class="stat"><b>0</b> Harmony patches</span>
    <span class="stat"><b>4</b> class extensions</span>
    <span class="stat"><b>3</b> C# mods</span>
  </div>
</a>

<a href="glossary.html" class="card card-clickable feature-card">
  <span class="icon">üìñ</span>
  <h3>Glossary</h3>
  <p>Reference guide for all terms: reference types, XPath operations, severity patterns, and entity types.</p>
  <p class="text-dim" style="font-size: 12px;">Why useful: Understand report terminology and learn about game systems.</p>
  <div class="stats">
    <span class="stat"><b>4</b> categories</span>
    <span class="stat">Reference types, XPath ops</span>
    <span class="stat">Severity patterns, Entity types</span>
  </div>
</a>

</div>
<div class="card" style="margin-top: 1.5rem; border-color: var(--danger);">
<h3 style="color: var(--danger); margin-bottom: 0.75rem;">‚ö†Ô∏è Attention Required</h3>
<p><strong>2</strong> load-order sensitive properties: Multiple mods set different values (last mod wins). <a href="conflicts.html">View details ‚Üí</a></p>
</div>

</div>
<script>

// Fuzzy search scoring - matches characters in order, not necessarily adjacent
function fuzzyScore(query, target) {
  if (!query) return 1;
  query = query.toLowerCase();
  target = target.toLowerCase();
  let qi = 0, score = 0, lastMatch = -1;
  for (let ti = 0; ti < target.length && qi < query.length; ti++) {
    if (target[ti] === query[qi]) {
      score += (ti === lastMatch + 1) ? 2 : 1; // Bonus for consecutive
      lastMatch = ti;
      qi++;
    }
  }
  return qi === query.length ? score : 0;
}

// Generic search helper
function searchItems(query, items, getSearchText) {
  if (!query) return items.slice(0, 20);
  return items
    .map(item => ({ item, score: fuzzyScore(query, getSearchText(item)) }))
    .filter(x => x.score > 0)
    .sort((a, b) => b.score - a.score)
    .map(x => x.item);
}

// Theme persistence
function initTheme() {
  const saved = localStorage.getItem('7d2d-theme') || 'obsidian';
  document.documentElement.dataset.theme = saved;
  const select = document.querySelector('.theme-select');
  if (select) select.value = saved;
}

function setTheme(theme) {
  document.documentElement.dataset.theme = theme;
  localStorage.setItem('7d2d-theme', theme);
}

// Initialize on load
document.addEventListener('DOMContentLoaded', initTheme);

// Debounce helper for search
function debounce(fn, delay) {
  let timer;
  return function(...args) {
    clearTimeout(timer);
    timer = setTimeout(() => fn.apply(this, args), delay);
  };
}

// Show/hide more items
function toggleShowMore(btn, containerId, allItems, renderFn) {
  const container = document.getElementById(containerId);
  const showAll = btn.dataset.expanded !== 'true';

  if (showAll) {
    container.innerHTML = allItems.map(renderFn).join('');
    btn.textContent = 'Show Less';
    btn.dataset.expanded = 'true';
  } else {
    container.innerHTML = allItems.slice(0, 20).map(renderFn).join('');
    btn.textContent = `Show All (${allItems.length})`;
    btn.dataset.expanded = 'false';
  }
}


</script>
</body>
</html>